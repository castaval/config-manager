syntax = "proto3";
package configmanager;

service ConfigManager {
    rpc Create(Config) returns (ResponseReply) {}
    rpc Get(ConfigRequest) returns (Config) {}
    rpc GetAll(Empty) returns (ConfigList) {}
    rpc Update(Config) returns (Config) {}
    rpc Delete(ConfigRequest) returns (ResponseReply) {}
    rpc DeleteVersion(ConfigRequestVersion) returns (ResponseReply) {}
}

message Empty {}

message ConfigList {
    repeated Config configs = 1;
}

message Config {
    uint32 version = 1;
    string name = 2;
    repeated Pair data = 3;
    bool used = 4;
}

message Pair {
    string key = 1;
    string value = 2;
}

message ConfigRequest {
    string name = 1;
}

message ConfigRequestVersion {
    string name = 1;
    uint32 version = 2;
}

message ResponseReply {
    string status = 1;
}
